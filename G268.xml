<?xml version="1.0" encoding="utf-8"?>
<Metacode xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\Program Files (x86)\Tecnomatix\MachineConfigurator\resource\mc_metacode.xsd">
  <Name>G268</Name>
  <MCParam>X</MCParam>
  <MCParam>Y</MCParam>
  <MCParam>Z</MCParam>
  <MCParam>I</MCParam>
  <MCParam>J</MCParam>
  <MCParam>K</MCParam>
  <MCParam>Q</MCParam>
  <Execute>
    <Command>
      <Name>Assert</Name>
      <Param>(isDefined(Q) AND Q==123) OR NOT(isDefined(Q))</Param>
      <Param>"fatal"</Param>
      <Param>"G268 only implemented for Q address 123!"</Param>
    </Command>
    <Command>
      <Name>ActivateTransformation</Name>
      <Param>"ROTATIONAL"</Param>
      <Param>FALSE</Param>
      <Param>FALSE</Param>
    </Command>
    <Command>
      <Name>ResetTransformation</Name>
      <Param>"ROTATIONAL"</Param>
    </Command>
    <IfCommand>
      <Condition>isDefined(X)</Condition>
      <Then>
        <Command>
          <Name>DisplaceOrigin</Name>
          <Param>"ROTATIONAL"</Param>
          <Param>TRUE</Param>
          <Param>getFirstGeoAxis()</Param>
          <Param>X*25.4</Param>
        </Command>
      </Then>
    </IfCommand>
    <IfCommand>
      <Condition>isDefined(Y)</Condition>
      <Then>
        <Command>
          <Name>DisplaceOrigin</Name>
          <Param>"ROTATIONAL"</Param>
          <Param>TRUE</Param>
          <Param>getSecondGeoAxis()</Param>
          <Param>Y*25.4</Param>
        </Command>
      </Then>
    </IfCommand>
    <IfCommand>
      <Condition>isDefined(Z)</Condition>
      <Then>
        <Command>
          <Name>DisplaceOrigin</Name>
          <Param>"ROTATIONAL"</Param>
          <Param>TRUE</Param>
          <Param>getThirdGeoAxis()</Param>
          <Param>Z*25.4</Param>
        </Command>
      </Then>
    </IfCommand>
    <Command>
      <Name>SetRotation</Name>
      <Param>"ROTATIONAL"</Param>
      <Param>TRUE</Param>
      <Param>getFirstAxis()</Param>
      <Param>I</Param>
    </Command>
    <Command>
      <Name>ActivateTransformation</Name>
      <Param>"ROTATIONAL"</Param>
      <Param>TRUE</Param>
      <Param>TRUE</Param>
    </Command>
    <Command>
      <Name>ActivateTransformation</Name>
      <Param>"ROTATIONAL"</Param>
      <Param>FALSE</Param>
      <Param>FALSE</Param>
    </Command>
    <Command>
      <Name>SetRotation</Name>
      <Param>"ROTATIONAL"</Param>
      <Param>TRUE</Param>
      <Param>getSecondAxis()</Param>
      <Param>J</Param>
    </Command>
    <Command>
      <Name>ActivateTransformation</Name>
      <Param>"ROTATIONAL"</Param>
      <Param>TRUE</Param>
      <Param>TRUE</Param>
    </Command>
    <Command>
      <Name>ActivateTransformation</Name>
      <Param>"ROTATIONAL"</Param>
      <Param>FALSE</Param>
      <Param>FALSE</Param>
    </Command>
    <Command>
      <Name>SetRotation</Name>
      <Param>"ROTATIONAL"</Param>
      <Param>TRUE</Param>
      <Param>getThirdAxis()</Param>
      <Param>K</Param>
    </Command>
    <Command>
      <Name>ActivateTransformation</Name>
      <Param>"ROTATIONAL"</Param>
      <Param>TRUE</Param>
      <Param>TRUE</Param>
    </Command>
  </Execute>
</Metacode>