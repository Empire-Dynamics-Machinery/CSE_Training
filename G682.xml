<?xml version="1.0" encoding="utf-8"?>
<Metacode xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\Program Files (x86)\Tecnomatix\MachineConfigurator\resource\mc_metacode.xsd">
  <Name>G682</Name>
  <MCParam>X</MCParam>
  <MCParam>Y</MCParam>
  <MCParam>Z</MCParam>
  <MCParam>I</MCParam>
  <MCParam>J</MCParam>
  <MCParam>K</MCParam>
  <Variable>LV_strTrafoName</Variable>
  <Execute>
    <AssignCommand>
      <Variable>LV_strTrafoName</Variable>
      <Value>"ROTATIONAL"</Value>
    </AssignCommand>
    <Command>
      <Name>ActivateTransformation</Name>
      <Param>LV_strTrafoName</Param>
      <Param>FALSE</Param>
      <Param>FALSE</Param>
    </Command>
    <Command>
      <Name>ResetTransformation</Name>
      <Param>LV_strTrafoName</Param>
    </Command>
    <IfCommand>
      <Condition>isDefined(X)</Condition>
      <Then>
        <Command>
          <Name>DisplaceOrigin</Name>
          <Param>LV_strTrafoName</Param>
          <Param>TRUE</Param>
          <Param>getFirstGeoAxis()</Param>
          <Param>X*GV_dInchToMM</Param>
        </Command>
      </Then>
    </IfCommand>
    <IfCommand>
      <Condition>isDefined(Y)</Condition>
      <Then>
        <Command>
          <Name>DisplaceOrigin</Name>
          <Param>LV_strTrafoName</Param>
          <Param>TRUE</Param>
          <Param>getSecondGeoAxis()</Param>
          <Param>Y*GV_dInchToMM</Param>
        </Command>
      </Then>
    </IfCommand>
    <IfCommand>
      <Condition>isDefined(Z)</Condition>
      <Then>
        <Command>
          <Name>DisplaceOrigin</Name>
          <Param>LV_strTrafoName</Param>
          <Param>TRUE</Param>
          <Param>getThirdGeoAxis()</Param>
          <Param>Z*GV_dInchToMM</Param>
        </Command>
      </Then>
    </IfCommand>
    <IfCommand>
      <Condition>isDefined(I)</Condition>
      <Then>
        <Command>
          <Name>SetRotation</Name>
          <Param>LV_strTrafoName</Param>
          <Param>TRUE</Param>
          <Param>getThirdAxis()</Param>
          <Param>I</Param>
        </Command>
        <Command>
          <Name>ActivateTransformation</Name>
          <Param>LV_strTrafoName</Param>
          <Param>TRUE</Param>
          <Param>TRUE</Param>
        </Command>
      </Then>
    </IfCommand>
    <IfCommand>
      <Condition>isDefined(J)</Condition>
      <Then>
        <Command>
          <Name>ActivateTransformation</Name>
          <Param>LV_strTrafoName</Param>
          <Param>FALSE</Param>
          <Param>FALSE</Param>
        </Command>
        <Command>
          <Name>SetRotation</Name>
          <Param>LV_strTrafoName</Param>
          <Param>TRUE</Param>
          <Param>getFirstAxis()</Param>
          <Param>J</Param>
        </Command>
        <Command>
          <Name>ActivateTransformation</Name>
          <Param>LV_strTrafoName</Param>
          <Param>TRUE</Param>
          <Param>TRUE</Param>
        </Command>
      </Then>
    </IfCommand>
    <IfCommand>
      <Condition>isDefined(K)</Condition>
      <Then>
        <Command>
          <Name>ActivateTransformation</Name>
          <Param>LV_strTrafoName</Param>
          <Param>FALSE</Param>
          <Param>FALSE</Param>
        </Command>
        <Command>
          <Name>SetRotation</Name>
          <Param>LV_strTrafoName</Param>
          <Param>TRUE</Param>
          <Param>getThirdAxis()</Param>
          <Param>K</Param>
        </Command>
        <Command>
          <Name>ActivateTransformation</Name>
          <Param>LV_strTrafoName</Param>
          <Param>TRUE</Param>
          <Param>TRUE</Param>
        </Command>
      </Then>
    </IfCommand>
    <Command>
      <Name>Assert</Name>
      <Param>isDefined(I) AND isDefined(J) AND isDefined(K)</Param>
      <Param>"fatal"</Param>
      <Param>"G682 should be specified with I, J, and K!"</Param>
    </Command>
  </Execute>
</Metacode>